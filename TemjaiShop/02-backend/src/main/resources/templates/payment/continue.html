<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>ชำระเงินเพิ่มเติม</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      background-color: #f8f9fa;
    }
    .qr-code {
      max-width: 300px;
    }
    .main-content {
      padding: 2rem 1.5rem;
    }
  </style>
</head>
<body>

<!-- ✅ Navbar Fragment -->
<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="container-fluid">
  <div class="row">

    <!-- ✅ Sidebar Fragment -->
    <div class="col-auto p-0">
      <div th:replace="~{fragments/sidebar :: sidebar}"></div>
    </div>

    <!-- ✅ Main Content -->
    <main class="col ps-md-4 main-content d-flex flex-column align-items-center">
      <h2 class="mb-4 text-center"><i class="bi bi-cash-coin me-2"></i>กรุณาชำระเงินเพิ่มเติม</h2>

      <p class="mb-4 fs-5 text-center">
        ยอดเงินที่ต้องชำระ: <strong th:text="${amount} + ' บาท'"></strong>
      </p>

      <div class="qr-code mb-5">
        <img th:src="'data:image/png;base64,' + ${qrCodeBase64}" alt="PromptPay QR Code" class="img-fluid rounded shadow" />
      </div>

      <div class="d-flex justify-content-center flex-wrap gap-3">
        <form th:action="@{/payment/confirm}" method="post">
          <input type="hidden" name="orderId" th:value="${orderId}" />
          <button type="submit" class="btn btn-success px-4">
            <i class="bi bi-check-circle me-1"></i> ฉันได้ชำระเงินแล้ว
          </button>
        </form>

        <a th:href="@{/orders/list}" class="btn btn-danger px-4">
          <i class="bi bi-x-circle me-1"></i> ยกเลิก
        </a>
      </div>
    </main>

  </div>
</div>

<!-- ✅ Footer Fragment -->
<div th:replace="~{fragments/footer :: footer}"></div>

</body>
</html>

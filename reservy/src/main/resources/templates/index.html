<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservy - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
    </style>
</head>
<body class="bg-gradient-to-b from-indigo-100 to-white min-h-screen p-4">
<div class="max-w-2xl mx-auto bg-white p-6 rounded-2xl shadow-lg">
    <h1 class="text-2xl font-bold text-indigo-700 mb-6 text-center">üìÖ Reservy - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</h1>

    <!-- üìù ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß -->
    <form th:action="@{/book}" method="post" class="space-y-4">
        <input name="name" class="w-full border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á" required>
        <input name="date" type="date" class="w-full border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" required>
        <input name="time" type="time" class="w-full border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" required>

        <!-- üîß ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ -->
        <select name="serviceType" class="w-full border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ --</option>
            <option value="‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</option>
            <option value="‡∏ï‡∏±‡∏î‡∏ú‡∏°">‡∏ï‡∏±‡∏î‡∏ú‡∏°</option>
            <option value="‡∏Ç‡∏≠‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤">‡∏Ç‡∏≠‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤</option>
        </select>

        <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-md transition duration-200">
            üìå ‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß
        </button>
    </form>

    <!-- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
    <div th:if="${message}" class="mt-4 text-center text-green-600 font-medium" th:text="${message}"></div>

    <!-- üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á -->
    <h2 class="mt-8 text-lg font-semibold text-gray-700">üìÉ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</h2>
    <div class="overflow-x-auto">
        <table class="w-full mt-2 table-auto text-sm border border-gray-200 shadow-sm rounded-md overflow-hidden">
            <thead class="bg-indigo-200 text-indigo-900 text-left">
            <tr>
                <th class="px-3 py-2">‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏¥‡∏ß</th>
                <th class="px-3 py-2">‡∏ä‡∏∑‡πà‡∏≠</th>
                <th class="px-3 py-2">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</th>
                <th class="px-3 py-2">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                <th class="px-3 py-2">‡πÄ‡∏ß‡∏•‡∏≤</th>
                <th class="px-3 py-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                <th class="px-3 py-2 text-center">‡∏•‡∏ö</th>
            </tr>
            </thead>
            <tbody class="divide-y divide-gray-100">
            <tr th:each="b : ${bookings}" class="hover:bg-indigo-50">
                <td class="px-3 py-2 font-mono text-indigo-700 font-semibold" th:text="${b.queueNumber}">Q-000</td>
                <td class="px-3 py-2" th:text="${b.name}"></td>
                <td class="px-3 py-2" th:text="${b.serviceType}"></td>
                <td class="px-3 py-2" th:text="${b.date}"></td>
                <td class="px-3 py-2" th:text="${b.time}"></td>
                <td class="px-3 py-2">
                    <span th:switch="${b.status}">
                        <span th:case="'PENDING'" class="text-yellow-600 font-medium">‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span>
                        <span th:case="'COMPLETED'" class="text-green-600 font-medium">‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</span>
                        <span th:case="'CANCELLED'" class="text-red-500 font-medium">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</span>
                        <span th:case="*">-</span>
                    </span>
                </td>
                <td class="px-3 py-2 text-center">
                    <form th:action="@{/delete}" method="post" onsubmit="return confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ñ‡∏¥‡∏ß?');">
                        <input type="hidden" name="id" th:value="${b.id}">
                        <button class="text-red-500 hover:text-red-700 font-medium">‡∏•‡∏ö</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>

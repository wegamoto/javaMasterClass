<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏™‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

<!-- Navbar Fragment -->
<div th:replace="fragments/navbar :: navbar"></div>

<div class="flex min-h-screen">

    <!-- Sidebar Fragment -->
    <aside class="w-64 hidden md:block bg-white">
        <div th:replace="fragments/sidebar :: sidebar"></div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-6">
        <h1 class="text-2xl font-bold mb-4">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏™‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</h1>

        <form method="get" action="#" class="mb-4 flex gap-4 items-end">
            <div>
                <label for="start" class="block text-sm font-semibold">‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
                <input type="date" id="start" name="start" th:value="${start}" class="border rounded px-3 py-1">
            </div>
            <div>
                <label for="end" class="block text-sm font-semibold">‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
                <input type="date" id="end" name="end" th:value="${end}" class="border rounded px-3 py-1">
            </div>
            <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                üîç ‡∏Å‡∏£‡∏≠‡∏á
            </button>
        </form>

        <a href="/emergencies/new" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
            ‚ûï ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏Ñ‡∏™‡πÉ‡∏´‡∏°‡πà
        </a>

        <table class="table-auto w-full mt-4 bg-white shadow rounded">
            <thead>
            <tr>
                <th class="px-4 py-2 text-left">ID</th>
                <th class="px-4 py-2 text-left">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</th>
                <th class="px-4 py-2 text-left">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                <th class="px-4 py-2 text-left">‡∏ó‡∏µ‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö</th>
                <th class="px-4 py-2 text-left">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á</th> <!-- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏±‡∏ß‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå -->
                <th class="px-4 py-2 text-center">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="case : ${cases}" class="border-t hover:bg-gray-50">
                <td th:text="${case.id}" class="px-4 py-2"></td>
                <td th:text="${case.description}" class="px-4 py-2"></td>
                <td th:text="${case.status}" class="px-4 py-2"></td>
                <td th:text="${case.team?.name}" class="px-4 py-2"></td>
                <td th:text="${#temporals.format(case.reportedAt, 'dd/MM/yyyy HH:mm')}" class="px-4 py-2"></td> <!-- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà -->
                <td class="px-4 py-2 text-center space-x-2">
                    <a th:href="@{/emergencies/{id}/edit(id=${case.id})}" class="text-blue-600 hover:underline">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a>
                    <form th:action="@{/emergencies/{id}/delete(id=${case.id})}" method="post" class="inline">
                        <button type="submit" class="text-red-600 hover:underline"
                                onclick="return confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÄ‡∏Ñ‡∏™‡∏ô‡∏µ‡πâ?')">‚ùå ‡∏•‡∏ö</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </main>
</div>

<!-- Footer Fragment -->
<footer class="mt-auto bg-gray-200 text-center text-sm py-4">
    <div th:replace="fragments/footer :: footer"></div>
</footer>

</body>
</html>

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8" />
  <title th:text="${budgetItem.id} != null ? 'Edit Budget Item' : 'Create Budget Item'">Budget Item Form</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">

<!-- Navbar -->
<div th:replace="fragments/navbar :: navbar"></div>

<div class="flex min-h-screen">

  <!-- Sidebar -->
  <aside class="w-64 bg-gray-100 p-4">
    <div th:replace="fragments/sidebar :: sidebar"></div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-6">

    <h1 class="text-3xl font-bold mb-6 text-indigo-700"
        th:text="${budgetItem.id} != null ? '✏️ Edit Budget Item' : '➕ Create Budget Item'">Budget Item Form</h1>

    <form th:action="@{/budget-items/save}" th:object="${budgetItem}" method="post" class="max-w-xl bg-white p-6 rounded shadow">
      <input type="hidden" th:field="*{id}" />

      <div class="mb-4">
        <label for="category" class="block text-gray-700 font-semibold mb-2">Category</label>
        <input id="category" type="text" th:field="*{category}" required
               class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
      </div>

      <div class="mb-4">
        <label for="description" class="block text-gray-700 font-semibold mb-2">Description</label>
        <textarea id="description" th:field="*{description}" rows="3"
                  class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"></textarea>
      </div>

      <div class="mb-4">
        <label for="amount" class="block text-gray-700 font-semibold mb-2">Amount (฿)</label>
        <input id="amount" type="number" step="0.01" min="0" th:field="*{amount}" required
               class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
      </div>

      <div class="mb-6">
        <label for="spendDate" class="block text-gray-700 font-semibold mb-2">Spend Date</label>
        <input id="spendDate" type="date" th:field="*{spendDate}" required
               class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
      </div>

      <div class="flex space-x-4">
        <button type="submit"
                class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition">
          Save
        </button>
        <a href="/budget-items"
           class="inline-block px-4 py-2 border border-gray-300 rounded hover:bg-gray-100">
          Cancel
        </a>
      </div>
    </form>

  </main>
</div>

<!-- Footer -->
<div th:replace="fragments/footer :: footer"></div>

</body>
</html>

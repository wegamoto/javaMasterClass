<!-- templates/users/change-password.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>แก้ไขรหัสผ่าน</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 font-sans">

<!-- Navbar -->
<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="flex min-h-screen">
  <!-- Sidebar -->
  <div th:replace="~{fragments/sidebar :: sidebar}"></div>

  <!-- Main Content -->
  <main class="flex-1 p-6">
    <div class="max-w-md mx-auto bg-white p-6 rounded shadow">
      <h1 class="text-xl font-semibold mb-4">🔒 เปลี่ยนรหัสผ่านผู้ใช้</h1>

      <form th:action="@{/users/{id}/change-password(id=${user.id})}" method="post" class="space-y-4">
      <div>
          <label class="block mb-1 text-sm text-gray-700">ชื่อผู้ใช้:</label>
          <input type="text" th:value="${user.name}" class="border rounded px-3 py-2 w-full bg-gray-100" readonly />
        </div>

        <div>
          <label for="newPassword" class="block mb-1 text-sm text-gray-700">รหัสผ่านใหม่:</label>
          <input type="password" id="newPassword" name="newPassword" class="border rounded px-3 py-2 w-full" required />
        </div>

        <div class="flex justify-between items-center">
          <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">
            บันทึก
          </button>
          <a th:href="@{/users}" class="text-blue-600 hover:underline text-sm">← กลับ</a>
        </div>
      </form>
    </div>
  </main>
</div>

<!-- Footer -->
<div th:replace="~{fragments/footer :: footer}"></div>

</body>
</html>
